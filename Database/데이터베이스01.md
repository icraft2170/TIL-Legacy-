---
title: 데이터베이스 설계 및 구축
---



- 데이터 종속성(data dependency)
    - 데이터 구조 변화가 응용프로그램에 영양을 미칠 때 데이터가 종속되어 있다고 함.
    - 데이터 종속성은 프로그램의 개발과 유지보수를 어렵게함.

- 데이터 무결성(data integrity)
    - 데이터가 목적에 맞는 형식으로 저장되어있어야 하는 성질

- 데이터 중복성(data redundancy)
    - 같은 내용의 데이터가 여러 곳에 중복 저장되는 것
    - 데이터 불일치, 저장공간 낭비, 보안 어려움등의 문제가 생길 수 있음.

- 데이터 불일치(data inconsistency)
    - 데이터를 동시공유하지 않아 중복된 데이터들이 서로 일치하지 않음을 의미

- 데이터 표준화(data standard)
    - 작업 방법의 표준화를 의미, 자료형, 이름, 크기등은 동일 해야하는데 파일시스템으로 저장시 개발자 마다 저장 방법이 달랐음

- 데이터 보안성
    - 파일로 저장시 접근하기가 쉬워 데이터 보안성이 결여되었음.

파일 시스템 사용시 생길 수 있는 위 내용을 보완하기위해 데이터 베이스가 등장하였음. 흩어진 데이터를 하나로 모아 관리하자는 목적으로 데이터의 집함임 `데이터 베이스`를 만듬

- `데이터베이스(database)` : 데이터의 집합
- `데이터베이스 관리 시스템(Data Base Management System)`: 데이터 베이스를 관리하는 시스템
- `데이터베이스시스템(Database System)`: 데이터베이스의 정보를 처리하는 체계
    - 네트워크 데이터베이스 시스템
    - 계층형 데이터베이스 시스템
    - `관계형 데이터 베이스 시스템(RDBMS:Relational DataBase System)`
    - 객체 지향 모델
    - 객체-관계형 모델

### 데이터베이스 시스템의 특징
- 데이터 독립성 지원 :  DBMS를 통해서만 접근가능 하여 데이터가 응용프로그램에 영향을 미치지 않게함.
- 데이터 무결성 유지 : 데이터의 타입,길이,값의 범위를 제한하여 무결성 유지
- 데이터 중복성 및 불일치 최소화: 데이터베이스는 조직 전체의 관점으로 관리하여 중복성 방지
- 데이터 표준화의 용이성: DBMS를 통해 데이터 형태를 결정하여 표준화
- 높은 데이터 보안성: 사용자 권한에 따라 접근제한하여 보안성이 높음
- 데이터 공유의 용이성: 데이터베이스 시스템은 데이터를 통합 관리 하여. 공유가 용이




## 관계형 데이터베이스 모델
- 데이터 질의어(SQL) 제공
- 테이블 형태로 표현

#### 릴레이션(relation)
- 흔히 `테이블`이라고 얘기하는 표 (테이블은 릴레이션이지만 모든 릴레이션이 테이블은 아님)
- 동일한 이름의 릴레이션은 존재 할 수 없음.
- 현실세계의 개체(Entity)를 표현한다.
#### 속성(attribute)
- 릴레이션의 열을 의미 
- `컬럼(column), 필드` 등으로 불리기도 함
- 개체(Entity)의 정보를 표현한다.

#### 튜플(tuple)
- 릴레이션의 행을 의미하며, 릴레이션이 표현하고 있는 각 개체의 정보를 표현
- `행(row), 레코드(record)`라고도 불림
- 개체(Entity)의 구성원을 표현함.

#### 도메인(domain)
- 릴레이션에 포함된 속성들이 `가질 수 있는 값들의 집합`
- 릴레이션이 의도에 맞는 정보만 가질 수 있게하기 위해 필요(`데이터 무결성 유지`)
- ex) 성별이라는 속성에 올 수 있는 데이터 집합(도메인)은 `{'남자','여자'}`



## 키(Key)



### Candidate Key (후보키)
- 기본키가 될 자격이 존재하는 컬럼
- 중복된 튜플 삽입이 되지 않도록, 튜플의 구별 기준이 되는 컬럼의 집합.
- 고유적으로 식별 할 수 있어야 함 ( 중복 x )


### Primary Key (기본키)
- 후보키 중 구별 기준으로 선택된 컬럼
- 데이터 길이가 짧고 현실세계에서 빈번히 이용하는 컬럼이라는 기준으로 선택한다.
- 유일하며 Null값을 사용 할 수 없다

### Composite Key (복합키)
- 하나의 컬럼으로 튜플을 구별 할 수 없어 다수의 컬럼으로 튜플간의 구별을 위해 선택된 기본키

### Alternate Key (대체키)
- 기본 키로 선택되지 않아 기본 키를 대신할 수 있는 컬럼

### Foreign Key (외래키)
- 릴레이션 간의 데이터의 일치와 무결성을 보증해주는 수단
- 다른 릴레이션의 기본키를 현 릴레이션의 외래키로 설정함으로 데이터를 연관지어준다.
- 외래키로 지정되어 있는 릴레이션을 참조함으로서 데이터의 무결성을 지킬 수 있고 참조하고 있는 키가 삭제시도가 있을 때 DBMS는 아래와 같은 조치를 취할 수 있다.
    - `제한(restricted)`: 현 테이블의 기본키를 참조하는 테이블에서 외래키로 현 릴레이션의 기본키와 같은 값을 가지고 있다면, 현 릴레이션의 그 값을 가진 튜플의 삭제는 제한된다.
    - `연쇄(cascade)` : 참조관계에 의해 삭제가 제한된 내용을 cascade를 통해 연쇄적으로 삭제할 수 있다. 이렇게 되면 외래키로 참조하고 있는 릴레이션에도 영향을 미친다.
    - `널값으로 대체(nullify)` : cascade와 다르게 참조하고 있는 다른 테이블의 값을 Null값으로 대체한다.
- 외래키를 통해 두 테이블간의 무결성을 유지하는 것을 `참조 무결성 제약조건` 이라고 함.
- 외래키로 본인의 기본키를 참조할 때 `자기 참조(self reference)` 라고 한다.


## 뷰
- 하나 혹은 다양한 테이블을 다양한 관점에서 볼 수 있도록 해주는 수단으로 `가상 테이블`이라고도 부름
    - 테이블의 다수의 컬럼중 다양한 사용자가 일부의 컬럼만 필요로 하거나 사용자에게 일부의 컬럼만을 공개할 수 있을 때 그 테이블의 일부 컬럼만을 모아 만든 가상의 테이블.
- 테이블과 달리 물리적 데이터를 가지지 않고 뷰가 정의된 일반 테이블로 부터 가져와 보여줌.
- 사용자에게는 Table과 다르지 않으며, 검색 SQL구문을 사용 가능하다
```sql
CREATE VIEW high_salary
AS SELECT empid, ename, dept, salary
    FROM emp
    WHERE salary >= 350;
-- high_salary라는 View를 만드는데 emp 테이블로부터 empid, ename, dept, salary 가져와 salary가 350이상인 튜플만 가져와 저장한다. 

SELECT empid, ename, salary
FROM high_salary
WHERE dept = '영업부';
-- high_salary라는 뷰에서 dept의 값이 영업부인 empid, ename, salary를 검색한다는 의미
SELECT empid, ename, salary
FROM emp
WHERE salary >= 350
AND dept = '영업부';
-- DBMS가 내부적으로 아래와 같이 변경하여 실행한다.
```
- 뷰는 물리적인 데이터를 를 직접 저장하고 있지 않기 고 참조중인 테이블을 참조하여 검색해야 하기 때문에 내부적으로 SQL구문이 바뀌어서 진행 된다. 


### 뷰의 목적
- 하나의 테이블을 다양한 관점으로 보기를 원할 때
- 일반 사용자에게는 감추어야 할 컬럼이 포함 되어 있을 때 뷰를 만들어 보안을 유지한다.
- 자주 사용하는 복잡한 질의를 뷰로 정의하고 간편하게 쓰고자 할때 ( 함수화와 같은 느낌 )

### 뷰의 SQL구문
- 뷰에서는 모든 검색 구문인 `SELECT문`이 적용 된다.
- INSERT, DELETE, UPDATE와 같은 DML문은 데이터 무결성을 헤치지 않는다면 실행 가능하다.
    - 튜플을 삽입시 참조된 테이블의 컬럼중 참조중인 컬럼만 추가할 수 있고 나머지 부분은 NULL값으로 채워진다.
    - 만약 `NOT NULL`이 선언되어 있는 컬럼이 존재한다면 제약조건에 의해 추가하지 못할 것이다.
    - 튜플의 삭제에 대해서도 비슷한 기준을 적용 다만, `여러 테이블을 조인`하여 뷰를 만들거나 기존의 값을 `함수를 통해 가공한 뷰`는 삽입 삭제가 불가능

## SQL 언어
- DBMS의 제품들에 동일하게 적용됨.
- 비절차적 언어이다.
- 대소문자를 구분하지 않고 끝에 `;(세미콜론)`으로 마무리한다.
- 사용자는 SQL을 두가지 방식으로 이용 할 수 있다
    - 대화식 SQL : DBMS 회사에서 제공하는 유틸 프로그램을 통해 직접 SQL을 입력하고 출력받는 방법
    - 내장 SQL : JAVA, C와같은 프로그램에 포함되어서 사용되는 방식


### SELECT
- 테이블에 저장된 정보를 조회하는데 사용
#### INSERT
- 튜플 삽입시 사용
#### UPDATE
- 튜플의 값을 변경할 때 사용
### DELETE
- 튜플 삭제시 사용
### CREATE
- 데이터베이스 내 객체를 생성하는데 사용
### DROP
- 데이터베이스 내 객체를 제거하는데 사용